version: '3.8'

services:
  edge-backend:
    build: 
      context: ./edge-backend
    container_name: aoi-edge-backend
    ports:
      - "8001:8000"  # Edge API on 8001 to avoid conflict with Host 8000
    volumes:
      - ./edge-backend:/app
    environment:
      - SIMULATION_MODE=true
    restart: always

  edge-frontend:
    build:
      context: ./edge-frontend
    container_name: aoi-edge-frontend
    ports:
      - "3001:80"    # Edge UI on 3001 to avoid conflict with Host 3000
    depends_on:
      - edge-backend
    restart: always
